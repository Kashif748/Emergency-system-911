<div class="mat-elevation-z8 pb-1">
  <div class="d-flex flex-row">
    <div
      class="flex-row-auto offcanvas-mobile w-200px w-xxl-275px"
      id="kt_inbox_aside"
    >
      <!--begin::Card-->
      <div class="card card-custom card-stretch">
        <!--begin::Body-->
        <div class="card-body px-0 pt-4 pb-0">
          <!--begin::Navigations-->

          <div
            class="input-icon mb-5 px-3"
            [ngClass]="{ 'spinner spinner-primary spinner-right': listSpinner }"
          >
            <input
              (keyup)="applyFilter($event)"
              class="form-control form-control-solid"
              placeholder="{{ 'ACTIONS.FILTER_PLACEHOLDER_LIST' | translate }}"
            />
            <span><i class="flaticon2-search-1 icon-md"></i></span>
          </div>

          <perfect-scrollbar
            class="px-4"
            style="max-width: 600px; max-height: 550px"
          >
            <div
              class="navi navi-hover navi-active navi-accent navi-link-rounded navi-bold scroll scroll-pull"
              perfectScrollbar
              data-scroll="true"
              data-wheel-propagation="true"
            >
              <!--begin::Item-->
              <div
                *ngFor="let item of filterCommonDataItems; let i = index"
                (click)="changeCurrentTab(item)"
                class="navi-item my-2 cursor-pointer"
              >
                <a
                  class="navi-link px-1"
                  *ngIf="!(item?.hidden)"
                  [class]="item.key == currentTab ? 'active' : ''"
                >
                  <span class="navi-icon mx-2">
                    <span class="svg-icon svg-icon-md">
                      <span
                        [inlineSVG]="
                          './assets/media/svg/icons/' + item.icon + '.svg'
                        "
                        cacheSVG="true"
                        class="svg-icon svg-icon-lg"
                      ></span>
                    </span>
                  </span>
                  <span class="navi-text font-weight-bold font-size-md">{{
                    "EVENTSMODULES." + item.key | translate
                  }}</span>
                  <span class="navi-label">
                    <span
                      *ngIf="item.type == 'commonPublic'"
                      class="label label-rounded label-light-primary font-weight-bolder"
                      >{{ commonDataLengths[i] }}</span
                    >
                  </span>
                </a>
              </div>
            </div>
          </perfect-scrollbar>

          <!--end::Navigations-->
        </div>
        <!--end::Body-->
      </div>
      <!--end::Card-->
    </div>

    <div class="flex-row-fluid p-4 d-block spin-overlay">
      <div class="overlay-wrapper">
        <div
          class="overlay-layer rounded bg-primary-o-20"
          [ngClass]="{ 'overlay-spining': loading }"
        >
          <div class="spinner spinner-primary spinner-lg spinner-left"></div>
        </div>

        <div class="d-flex flex-column list-content">
          <div
            *ngFor="let tab of commonDataItem"
            [dir]="lang === 'en' ? 'ltr' : 'rtl'"
            class="w-100"
          >
            <app-controller-view
              *ngIf="
                currentTab == tab.key &&
                tab.type == 'commonPublic' &&
                !tab.customTemplate
              "
              [controllerName]="tab.key"
            >
            </app-controller-view>
          </div>

          <div
            *ngIf="currentTab == 'emergencyLevels'"
            [dir]="lang === 'en' ? 'ltr' : 'rtl'"
            class="w-100"
          >
            <app-emergency-level></app-emergency-level>
          </div>

          <div
            *ngIf="currentTab == 'incidentCategories'"
            [dir]="lang === 'en' ? 'ltr' : 'rtl'"
            class="w-100"
          >
            <app-incidents-categories></app-incidents-categories>
          </div>
          <div>
            <div
              *ngIf="currentTab == 'localRisks'"
              [dir]="lang === 'en' ? 'ltr' : 'rtl'"
              class="w-100"
            >
              <app-local-risks></app-local-risks>
            </div>
          </div>

          <div
            *ngIf="currentTab == 'HEADER_MENU'"
            [dir]="lang === 'en' ? 'ltr' : 'rtl'"
            class="w-100"
          >
            <app-navigations></app-navigations>
          </div>
          <div
            *ngIf="currentTab == 'NOTIFICATION_MANAGEMENT'"
            [dir]="lang === 'en' ? 'ltr' : 'rtl'"
            class="w-100"
          >
            <app-notification-management></app-notification-management>
          </div>
          <div
            *ngIf="currentTab == 'kpi'"
            [dir]="lang === 'en' ? 'ltr' : 'rtl'"
            class="w-100"
          >
            <app-kpi></app-kpi>
          </div>
          <div
            *ngIf="currentTab == 'kpi-v2'"
            [dir]="lang === 'en' ? 'ltr' : 'rtl'"
            class="w-100"
          >
            <app-kpi-v2></app-kpi-v2>
          </div>
          <div
            *ngIf="currentTab == 'RANKS'"
            [dir]="lang === 'en' ? 'ltr' : 'rtl'"
            class="w-100"
          >
            <app-ranks></app-ranks>
          </div>
          <div
            *ngIf="currentTab == 'MOBILE_VERSIONS'"
            [dir]="lang === 'en' ? 'ltr' : 'rtl'"
            class="w-100"
          >
            <app-mobile-versions></app-mobile-versions>
          </div>
          <div
            *ngIf="currentTab == 'NOTIFICATIONS'"
            [dir]="lang === 'en' ? 'ltr' : 'rtl'"
            class="w-100"
          >
            <app-notifications></app-notifications>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
