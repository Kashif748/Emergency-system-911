<ng-container *ngIf="loading$ | async">
  <ng-container *ngFor="let widget of widgets">
    <ng-container *ngIf="widget?.privileges; else elseTemplate">
      <div
        class="col-lg-12 col-md-4 col-sm-6 item pt-0 pb-4 px-2"
        *appPrivileges="widget?.privileges"
      >
        <!--begin::Stats Widget 27-->
        <div
          class="card card-custom m-0 shadow-sm h-100"
          [ngClass]="{
            'pulse ': widget['changed'],
            'cursor-pointer ': widget['url']
          }"
          [routerLink]="widget['url']"
        >
          <!--begin::Body-->
          <div class="card-body p-4 d-flex justify-content-between">
            <div class="d-flex flex-column">
              <span
                class="card-title font-weight-bolder m-0 d-block number"
                [ngClass]="widget['changed'] ? 'alert-text ' : widget['color']"
                >{{ statistics[widget["value"]] }}
              </span>
              <a class="d-block font-size-h5 font-weight-bold text-dark">
                {{ "DASHBOARD." + widget["title"] | translate }}
              </a>
            </div>

            <div class="d-flex align-items-center">
              <span
                [inlineSVG]="
                  '/assets/media/svg/icons/' + widget['icon'] + '.svg'
                "
                cacheSVG="true"
                class="svg-icon svg-icon-4x"
              ></span>
            </div>
          </div>
          <!--end::Body-->
        </div>
        <!--end::Stats Widget 27-->
      </div>
    </ng-container>
    <ng-template #elseTemplate>
      <div class="col-lg-12 col-md-4 col-sm-6 item pt-0 pb-4 px-2">
        <!--begin::Stats Widget 27-->
        <div
          class="card card-custom m-0 shadow-sm h-100"
          [ngClass]="{
            'pulse ': widget['changed'],
            'cursor-pointer ': widget['url']
          }"
          [routerLink]="widget['url']"
        >
          <!--begin::Body-->
          <div class="card-body p-4 d-flex justify-content-between">
            <div class="d-flex flex-column">
              <span
                class="card-title font-weight-bolder m-0 d-block number"
                [ngClass]="widget['changed'] ? 'alert-text ' : widget['color']"
                >{{ statistics[widget["value"]] }}
              </span>
              <a class="d-block font-size-h5 font-weight-bold text-dark">
                {{ "DASHBOARD." + widget["title"] | translate }}
              </a>
            </div>

            <div class="d-flex align-items-center">
              <span
                [inlineSVG]="
                  '/assets/media/svg/icons/' + widget['icon'] + '.svg'
                "
                cacheSVG="true"
                class="svg-icon svg-icon-4x"
              ></span>
            </div>
          </div>
          <!--end::Body-->
        </div>
        <!--end::Stats Widget 27-->
      </div>
    </ng-template>
  </ng-container>
</ng-container>
